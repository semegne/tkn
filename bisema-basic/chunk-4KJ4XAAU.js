import{a as se}from"./chunk-OANJDRY6.js";import{a as pe}from"./chunk-5LX6WEM4.js";import"./chunk-A5P63PUF.js";import{a as J,b as K,c as Y,d as Z,e as ee,f as b,g as te,h as ie,i as ne,j as oe,k as re,o as le,p as ae,q as ce,r as de}from"./chunk-7GCLJ6QV.js";import"./chunk-PVVMZU6B.js";import{Aa as q,Ab as X,Ca as I,E as h,F as g,G as D,Ia as $,Ja as a,Ka as x,La as f,Ma as A,Q as k,R as E,T as l,Ua as S,Va as L,Xa as C,Ya as y,Za as z,_ as T,ca as N,da as m,eb as B,fb as G,ga as O,gb as R,ha as F,hb as j,ia as d,ib as U,jb as H,kb as Q,ma as i,na as o,oa as p,pa as V,qa as M,ra as P,sa as w,ua as v,va as u,xb as W}from"./chunk-VZCERJWG.js";var _e=(r,n)=>({"text-danger":r,"text-success":n}),fe=(r,n)=>({"clr-red":r,"text-success":n}),he=(r,n)=>({option:r,index:n,margin:5}),ge=(r,n,t)=>({option:r,index:n,margin:t}),ve=(r,n)=>({"bg-purple text-white":r,"clr-grey":n});function be(r,n){if(r&1&&(i(0,"a",43),a(1),o()),r&2){let t=n.$implicit;O("href",t.url,E),l(),f(" ",t.fullName," ")}}function xe(r,n){r&1&&(i(0,"span"),a(1," / price:0"),o())}function Ce(r,n){if(r&1&&(i(0,"span"),a(1),o()),r&2){let t=u().index,e=u();l(),A(" -> ",e.product.finish_labels[t]," | ",e.product.finish_prices[t],"")}}function ye(r,n){if(r&1&&(i(0,"div"),P(1,48),o()),r&2){let t=n.$implicit,e=u().index;u();let c=$(117);l(),d("ngTemplateOutlet",c)("ngTemplateOutletContext",S(2,he,t,e))}}function we(r,n){if(r&1){let t=w();i(0,"div",44)(1,"a",45),v("click",function(){let c=h(t).index,s=u();return g(s.finishCollapseToggle(c))}),a(2),m(3,xe,2,0,"span",46)(4,Ce,2,2,"span",46),o(),i(5,"div",47,1),m(7,ye,2,5,"div",20),o()()}if(r&2){let t=n.$implicit,e=n.index,c=u();l(),d("ngClass",S(6,fe,c.product.finish_labels[e]==" ??",c.product.finish_labels[e]!=" ??")),l(),f(" ",t.description," "),l(),d("ngIf",c.product.finish_prices[e]==0),l(),d("ngIf",c.product.finish_prices[e]!=0),l(),d("ngbCollapse",t.collapse),l(2),d("ngForOf",t.options)}}function Se(r,n){if(r&1&&(i(0,"span"),a(1),o()),r&2){let t=n.$implicit;l(),x(t)}}function Ee(r,n){if(r&1&&(i(0,"div",49)(1,"a",50),p(2,"img",51),C(3,"lowercase"),C(4,"lowercase"),i(5,"div",52),a(6),o()()()),r&2){let t=n.$implicit,e=u();l(),q("routerLink","/catalogue/",e.product.catalogue_id,"/product/",t==null?null:t.id,""),l(),I("src","",e.media_url,"",e.product==null?null:e.product.company_code,"/",y(3,9,e.product==null?null:e.product.catalogue_code),"/prod_icons/",y(4,11,t.label),"_3d.png",E),l(4),f(" ",t.label," ")}}function ke(r,n){if(r&1&&(i(0,"div"),P(1,48),o()),r&2){let t=n.$implicit,e=u(2),c=e.index,s=e.margin;u();let _=$(117);l(),d("ngTemplateOutlet",_)("ngTemplateOutletContext",L(2,ge,t,c,s+5))}}function Fe(r,n){if(r&1){let t=w();V(0),i(1,"a",54),v("click",function(){h(t);let c=u().option;return g(c.sub_group.collapse=!c.sub_group.collapse)}),a(2),o(),i(3,"div",47,2),m(5,ke,2,6,"div",20),o(),M()}if(r&2){let t=u(),e=t.option,c=t.margin;l(),F("style","margin-left: ",c,"px;",k),l(),f(" ",e.sub_group.description," "),l(),d("ngbCollapse",e.sub_group.collapse),l(2),d("ngForOf",e.sub_group.options)}}function Pe(r,n){if(r&1){let t=w();i(0,"a",55),v("click",function(){h(t);let c=u(),s=c.option,_=c.index,me=u();return g(me.finish(s.name,_,s.price))}),a(1),o()}if(r&2){let t=u(),e=t.option,c=t.index,s=t.margin,_=u();F("style","margin-left: ",s,"px;",k),d("ngClass",S(4,ve,e.name==_.product.finish_labels[c],e.name!=_.product.finish_labels[c])),l(),f(" ",e.description," ")}}function Ie(r,n){if(r&1&&m(0,Fe,6,5,"ng-container",46)(1,Pe,2,7,"a",53),r&2){let t=n.option;d("ngIf",t.subgroup_id),l(),d("ngIf",!t.subgroup_id)}}var ue=class r extends pe{breadcrumbData={};product=null;price=null;qty=new b({value:"1",disabled:!0});autoCadForm=new ee({dwg_2d:new b(""),dxf_2d:new b(""),rvt_2d:new b(""),dwg_3d:new b(""),dxf_3d:new b(""),rvt_3d:new b("")});pdfs=[{fullName:"ANSI / BIFMA-Certificates",name:"anci_bifma_certificate.pdf",folder:"prod_certificates",url:""},{fullName:"Price Product Guide",name:"price_product_guide.pdf",folder:"price_guide",url:""},{fullName:"Installation Guide",name:"installation_guide.pdf",folder:"installation_guide",url:""},{fullName:"Environment Data",name:"environment_report.pdf",folder:"env_data",url:`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/labels/${this.product?.category_label}/env_data/${this.product?.category_label}.pdf`}];getProduct(){let n=this._activatedRoute.snapshot.paramMap.get("product_id");this._mainService.getProduct(n).subscribe({next:t=>{this.product=t.data,this.product.finish_labels=new Array(this.product.groups.length).fill(" ??"),this.product.finish_prices=new Array(this.product.groups.length).fill(0),this.breadcrumbData.companyCode=this.product?.company_code,this.breadcrumbData.catalogueCode=this.product.catalogue_code;let e=[{name:this.product?.company_code,router:`/catalogue/${this.product?.catalogue_id}`},{name:this.product?.category_name,router:`/catalogue/${this.product?.catalogue_id}/category/${this.product?.category_id}`},{name:this.product?.sub_category_name,router:`/catalogue/${this.product?.catalogue_id}/sub-category/${this.product?.sub_category_id}`},{name:this.product?.label,router:null}];this.breadcrumbData.breadcrumbs=e,this.price=this.product?.price}})}getProductSectionTextFile(){this._mainService.getProductFile(this.product.company_code,this.product.catalogue_code,this.product.category_label,this.product.sub_category_label).subscribe({next:n=>{this.product.description=n}})}stepDown(){this.qty.value!=1&&(this.qty.setValue(parseInt(this.qty.value)-1),this.changePrice())}stepUp(){this.qty.setValue(parseInt(this.qty.value)+1),this.changePrice()}changePrice(){this.price=this.product.price*this.qty.value;for(let n=0;n<this.product.finish_prices.length;n++)this.price=this.price+this.product.finish_prices[n]*this.qty.value;this.price=parseFloat(this.price).toFixed(2)}selectCadFiles(){var n=this.autoCadForm.value;let t=[];n.dwg_2d==!0&&t.push(`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/dwgfolders/dwg/2d/${this.product?.label.toLowerCase()}_2d.dwg`),n.dwg_3d==!0&&t.push(`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/dwgfolders/dwg/3d/${this.product?.label.toLowerCase()}_3d.dwg`),n.dxf_2d==!0&&t.push(`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/dwgfolders/dxf/2d/${this.product?.label.toLowerCase()}_2d.dxf`),n.dxf_3d==!0&&t.push(`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/dwgfolders/dxf/3d/${this.product?.label.toLowerCase()}_3d.dxf`),n.rvt_2d==!0&&t.push(`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/dwgfolders/rvt/2d/${this.product?.label.toLowerCase()}_2d.rvt`),n.rvt_3d==!0&&t.push(`${this.media_url}${this.product?.company_code}/${this.product?.catalogue_code}/dwgfolders/rvt/3d/${this.product?.label.toLowerCase()}_3d.rvt`);let e=setInterval(function(c){let s=c.pop(),_=document.createElement("a");s=s||"",_.setAttribute("href",s),_.click(),c.length==0&&clearInterval(e)},1e3,t)}finishCollapseToggle(n){this.product?.groups.forEach((t,e)=>{e==n?t.collapse=!t.collapse:t.collapse=!0})}finish(n,t,e){this.product.finish_labels[t]=n,this.product.finish_prices[t]=e,this.price=+this.price+ +this.product.finish_prices[t]}ngOnInit(){this.getProduct()}static \u0275fac=(()=>{let n;return function(e){return(n||(n=D(r)))(e||r)}})();static \u0275cmp=T({type:r,selectors:[["app-product"]],features:[N],decls:118,vars:29,consts:[["myFragment",""],["finishCollapse","ngbCollapse"],["subfinishCollapse","ngbCollapse"],[3,"data"],[1,"container-fluid"],[1,"row","mt-3"],[1,"col-12"],[1,"d-flex","flex-md-row","flex-column","justify-content-between","align-items-center"],[1,"flex-fill"],[1,"text-muted"],[1,"ms-2","text-dark"],[1,"d-flex","flex-md-row","flex-column","align-items-center"],["class","text-dark ms-2",4,"ngFor","ngForOf"],[1,"border-dark"],[1,"col-md-6","col-12"],[1,"img-hover-zoom"],["alt","","width","200",1,"img-rounded",3,"src"],["class","menu mb-2",4,"ngFor","ngForOf"],[1,"prod-description"],[1,"p-1",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,""],[1,"ms-5","qtyInput"],[1,"input-group","bg-main","mb-3"],[1,"input-group-text"],["type","button",1,"btn","bg-light-purple","border",3,"click"],["min","1","value","1","type","number",1,"form-control","form-control-sm",3,"change","formControl"],["type","button",1,"btn","btn-dark","btn-sm","btn2","w-100"],[1,"mt-3"],[1,"row"],["class","col-6 col-lg-4 mb-3 text-center img-hover-zoom",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"table"],[1,"pt-3"],[1,"form-check","form-switch"],["formControlName","dwg_2d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","dxf_2d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","rvt_2d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","dwg_3d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","dxf_3d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","rvt_3d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],[1,"btn","btn-sm","btn2","w-100",3,"click"],[1,"text-dark","ms-2"],[1,"menu","mb-2"],["href","javascript:;",1,"text-decoration-none","fw-bold",3,"click","ngClass"],[4,"ngIf"],[3,"ngbCollapse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-6","col-lg-4","mb-3","text-center","img-hover-zoom"],[1,"clr-purple","text-decoration-none","font-weight-bold",3,"routerLink"],["alt","","width","100",1,"img-rounded",3,"src"],[1,"mt-2"],["href","javascript:;","class","side-child-item p-1 text-decoration-none",3,"ngClass","click",4,"ngIf"],["href","javascript:;",1,"text-decoration-none","fw-bold",3,"click"],["href","javascript:;",1,"side-child-item","p-1","text-decoration-none",3,"click","ngClass"]],template:function(t,e){if(t&1){let c=w();p(0,"app-breadcrumb",3),i(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"span")(7,"small",9),a(8,"Product Description:"),o(),i(9,"span",10),a(10),C(11,"uppercase"),o()()(),i(12,"div",8)(13,"div",11)(14,"small",9),a(15,"Product info:"),o(),m(16,be,2,2,"a",12),o()()()(),p(17,"hr",13),i(18,"div",14)(19,"div")(20,"small",9),a(21,"Product:"),o(),i(22,"h6"),a(23),o(),p(24,"hr",13),i(25,"div",15),p(26,"img",16),C(27,"lowercase"),C(28,"lowercase"),o()(),i(29,"div"),p(30,"hr",13),i(31,"h6"),a(32,"Finishes"),o(),m(33,we,8,9,"div",17),o()(),i(34,"div",14)(35,"div"),p(36,"br"),i(37,"h6"),a(38,"Description"),o(),p(39,"hr",13),i(40,"p"),a(41),o(),i(42,"p",18),a(43),o()(),i(44,"div"),p(45,"hr",13),i(46,"h6"),a(47,"Product Code"),o(),i(48,"h3",19),a(49),m(50,Se,2,1,"span",20),o(),i(51,"div",21)(52,"div",22)(53,"h6",22),a(54),o()(),i(55,"div",23)(56,"div",24)(57,"span",25),a(58,"Qty"),o(),i(59,"button",26),v("click",function(){return h(c),g(e.stepDown())}),a(60,"-"),o(),i(61,"input",27),v("change",function(){return h(c),g(e.changePrice())}),o(),i(62,"button",26),v("click",function(){return h(c),g(e.stepUp())}),a(63,"+"),o()()()(),i(64,"button",28),a(65," Add to Cart "),o()()(),i(66,"div",14)(67,"div"),p(68,"hr",13),i(69,"h6",29),a(70),o(),i(71,"div",30),m(72,Ee,7,13,"div",31),o()()(),i(73,"div",14)(74,"div",29),p(75,"hr",13),i(76,"h6"),a(77,"Download"),o(),i(78,"form",32)(79,"table",33)(80,"thead")(81,"tr"),p(82,"th"),i(83,"th"),a(84,"DWG"),o(),i(85,"th"),a(86,"DXF"),o(),i(87,"th"),a(88,"Revit"),o()()(),i(89,"tbody")(90,"tr")(91,"td",34),a(92,"2D"),o(),i(93,"td")(94,"div",35),p(95,"input",36),o()(),i(96,"td")(97,"div",35),p(98,"input",37),o()(),i(99,"td")(100,"div",35),p(101,"input",38),o()()(),i(102,"tr")(103,"td",34),a(104,"3D"),o(),i(105,"td")(106,"div",35),p(107,"input",39),o()(),i(108,"td")(109,"div",35),p(110,"input",40),o()(),i(111,"td")(112,"div",35),p(113,"input",41),o()()()()(),i(114,"button",42),v("click",function(){return h(c),g(e.selectCadFiles())}),a(115," Download "),o()()()()()(),m(116,Ie,2,2,"ng-template",null,0,z)}t&2&&(d("data",e.breadcrumbData),l(10),x(y(11,20,e.product==null?null:e.product.name)),l(6),d("ngForOf",e.pdfs),l(7),x(e.product==null?null:e.product.label),l(3),I("src","",e.media_url,"",e.product==null?null:e.product.company_code,"/",y(27,22,e.product==null?null:e.product.catalogue_code),"/prod_icons/",y(28,24,e.product==null?null:e.product.label),"_3d.png",E),l(7),d("ngForOf",e.product==null?null:e.product.groups),l(8),x(e.product==null?null:e.product.sub_category_name),l(2),x(e.product==null?null:e.product.description),l(5),d("ngClass",S(26,_e,e.product==null?null:e.product.finish_labels.includes(" ??"),!(e.product!=null&&e.product.finish_labels.includes(" ??")))),l(),f(" ",e.product==null?null:e.product.label," "),l(),d("ngForOf",e.product==null?null:e.product.finish_labels),l(4),f("$",e.price,""),l(7),d("formControl",e.qty),l(9),f("Other ",e.product==null?null:e.product.sub_category_name," sizes"),l(2),d("ngForOf",e.product==null?null:e.product.products),l(6),d("formGroup",e.autoCadForm))},dependencies:[Q,B,G,R,j,H,U,X,W,se,ae,te,K,ie,J,Y,Z,le,ne,oe,re,de,ce],styles:[".prod-description[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif}.qtyInput[_ngcontent-%COMP%]{width:160px}.last-col[_ngcontent-%COMP%]{width:28%!important}"]})};export{ue as ProductComponent};
