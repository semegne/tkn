import{a as J}from"./chunk-ZUSSVWCL.js";import{b as Q,c as Ee}from"./chunk-HSM5X2YU.js";import{a as be,b as Ce,c as ve,d as he,e as ye,f as we,g as xe,h as Se}from"./chunk-HR7DVQT6.js";import{d as me,g as W,j as de,m as ue,n as ge,o as fe,q as _e}from"./chunk-G7Y2ZS3Y.js";import{a as B,b as Ie}from"./chunk-Y6CEYV4J.js";import"./chunk-64QROMKM.js";import{A as K,Aa as f,B as v,Bb as F,Da as U,Db as ce,Eb as D,F as m,G as d,H as X,Ha as ee,J as x,Ka as z,La as q,Ma as L,Na as y,Oa as s,Pa as S,Qa as w,Ta as te,Ua as ne,V as M,Va as ie,Wa as V,X as l,ab as k,bb as O,ca as h,cb as oe,ga as Z,ha as _,kb as re,lb as P,ma as p,mb as E,ob as ae,pb as le,qa as o,qb as se,ra as i,rb as I,sa as c,ub as pe,wa as C,x as G,za as u}from"./chunk-RPBBG52S.js";import{d as T}from"./chunk-4CLCTAJ7.js";function Oe(r,t){r&1&&(o(0,"a",16),c(1,"img",17),i())}function Ne(r,t){if(r&1){let e=C();o(0,"button",18),u("click",function(){m(e);let a=f(),g=y(17);return d(a.open(g))}),c(1,"i",19),s(2," Small cart "),o(3,"span",20),s(4),i()()}if(r&2){let e=f();l(4),w(" [",e.cartQty,"] ")}}function Te(r,t){if(r&1&&(o(0,"div",28)(1,"div",29)(2,"div"),c(3,"img",30),k(4,"lowercase"),i(),o(5,"div",31)(6,"strong",32),s(7),k(8,"currency"),i(),o(9,"span",33)(10,"strong"),s(11,"QTY*"),i(),o(12,"p",34),s(13),i()()()(),c(14,"hr",35),i()),r&2){let e=t.$implicit,n=f(2);l(3),ee("src","",n.baseUrl,"",e.product.company_code,"/",O(4,7,e.product.catalogue_code),"/prod_icons/",e.product.label,"_3d.png",M),l(4),w(" Price: ",O(8,9,n.getTotalPrice(e))," "),l(6),S(e.qty)}}function Ve(r,t){if(r&1){let e=C();o(0,"div",21)(1,"h4",22),s(2,"Cart"),i(),o(3,"button",23),u("click",function(){let a=m(e).$implicit;return d(a.dismiss("Cross click"))}),i()(),o(4,"div",24)(5,"a",25),s(6),i(),c(7,"hr",26),_(8,Te,15,11,"div",27),i()}if(r&2){let e=f();l(6),w(" Cart (",e.cartQty," Items) "),l(2),p("ngForOf",e.cart)}}var H=class r{baseUrl=B.media_url;logo=!1;offcanvasService=v(Se);toggleCollapse=new x;cartQty=0;cart=[];url="";logoutEvent=new x;logout(){this.logoutEvent.emit()}toggle(){this.logo=!this.logo,this.toggleCollapse.emit()}open(t){this.offcanvasService.open(t,{position:"end"}).result.then(e=>{},e=>{})}getTotalPrice(t){let e=t.product.price;for(let n=0;n<t.finish_prices.length;n++)e=e+t.finish_prices[n];return e=e*t.qty,e=parseFloat(e).toFixed(2),e}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["app-header"]],inputs:{cartQty:"cartQty",cart:"cart",url:"url"},outputs:{toggleCollapse:"toggleCollapse",logoutEvent:"logoutEvent"},decls:18,vars:2,consts:[["content",""],[1,"navbar","navbar-dark","bg-purple","navbar-expand-sm"],[1,"container-fluid","align-items-center","px-0"],[1,"d-flex","align-items-center","me-5"],["type","button",1,"btn","btn-lg",3,"click"],[1,"navbar-toggler-icon"],["class","navbar-brand","href","http://www.bisema.com","target","_blank",4,"ngIf"],[1,"navbar-text","text-white","h5","me-5","pe-5","d-md-block","d-none"],[1,"me-3","d-flex","align-items-center"],["type","button","class","btn btn-light btn2",3,"click",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"nav-item","ms-3"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown3","role","button",1,"nav-link","text-white","userAnchor"],["aria-hidden","true",1,"fa","fa-user-circle"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown3",1,"dropdown-menu"],["ngbDropdownItem","","href","javascript:;",3,"click"],[1,"bg-light-purple"],["href","http://www.bisema.com","target","_blank",1,"navbar-brand"],["src","/img/bisema_logo.jpg","alt","logo","height","35"],["type","button",1,"btn","btn-light","btn2",3,"click"],["aria-hidden","true",1,"fa","fa-shopping-basket"],[1,""],[1,"offcanvas-header"],["id","offcanvas-basic-title",1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],["type","button","target","_blank","routerLink","/cart",1,"ml-1","btn","btn-light",2,"color","black"],[1,"mt-3"],["class","ml-2",4,"ngFor","ngForOf"],[1,"ml-2"],[1,"d-flex","justify-content-between"],["width","100","alt","Buy",1,"rounded","float-left",3,"src"],[1,"d-flex","flex-column","justify-content-between"],[1,"ml-5"],[1,"d-flex"],[1,"ms-1","bg-white","border","text-center",2,"width","75px"],[1,"mt-1"]],template:function(e,n){if(e&1){let a=C();o(0,"nav",1)(1,"div",2)(2,"div",3)(3,"button",4),u("click",function(){return m(a),d(n.toggle())}),c(4,"span",5),i(),_(5,Oe,2,0,"a",6),i(),o(6,"div",7),s(7," BiSemA Corporation Cloud Specification Services "),i(),o(8,"div",8),_(9,Ne,5,1,"button",9),o(10,"div",10)(11,"a",11),c(12,"i",12),i(),o(13,"div",13)(14,"a",14),u("click",function(){return m(a),d(n.logout())}),s(15,"Log Out"),i()()()()()(),_(16,Ve,9,2,"ng-template",15,0,oe)}e&2&&(l(5),p("ngIf",n.logo),l(4),p("ngIf",!n.url.includes("cart")))},dependencies:[I,P,E,ae,se,xe,we,ye,he,ve],styles:[".userAnchor[_ngcontent-%COMP%]{font-size:20px}"]})};var N=class r{constructor(t){this.http=t}api_url=B.api_url;getCompanies(){let t=localStorage.getItem("subdomain");return this.http.get(`${this.api_url}get/domain/companies?domain=${t}`)}getCatalogues(t){return this.http.get(`${this.api_url}get/company/catalogues?company_id=${t}`)}getCatalogue(t){return this.http.get(`${this.api_url}get/catalogue-tree?catalogue_id=${t}`)}static \u0275fac=function(e){return new(e||r)(K(pe))};static \u0275prov=G({token:r,factory:r.\u0275fac})};var Pe=["treeContainer"];function Fe(r,t){if(r&1&&(o(0,"span",19)(1,"a",20),c(2,"img",21),i()()),r&2){let e=f();l(),U("href",e.companyControl.value.url,M),l(),U("src",e.companyControl.value.logo,M)}}function De(r,t){if(r&1&&(o(0,"option",22),s(1),i()),r&2){let e=t.$implicit;p("ngValue",e),l(),S(e.code)}}function Be(r,t){if(r&1&&(o(0,"option",22),s(1),i()),r&2){let e=t.$implicit;p("ngValue",e),l(),S(e.code)}}function Qe(r,t){if(r&1){let e=C();o(0,"div",23)(1,"div",24)(2,"input",25,0),u("keyup",function(){m(e);let a=y(3),g=y(9);return d(g.treeModel.filterNodes(a.value))}),i()(),o(4,"label",11),s(5),i(),o(6,"div",26,1)(8,"tree-root",27,2),u("activate",function(a){m(e);let g=f();return d(g.onActivate(a))}),i()()()}if(r&2){let e=f();l(5),S(e.catalogue.desc),l(3),p("options",e.options)("nodes",e.catalogue.nodes)}}var R=class r{toggleCollapse=new x;companyChange=new x;companies=[];catalogues=[];catalogue=null;companyControl=new W("");catalogControl=new W("");_sideBarService=v(N);_router=v(D);tree;treeContainer={};options={scrollContainer:this.treeContainer.nativeElement,allowDrag:t=>!t.hasChildren};toggle(){this.toggleCollapse.emit()}getCompanies(){this._sideBarService.getCompanies().subscribe({next:t=>{this.companies=t.data,this.companyControl.setValue(this.companies[0]),this.getCatalogues()},error:t=>{}})}getCatalogues(){this._sideBarService.getCatalogues(this.companyControl.value.id).subscribe({next:t=>{this.catalogues=t.data,this._router.navigate([`/company/${this.companyControl.value.id}`]),this.companyChange.emit(!0)},error:t=>{}})}getCatalogue(){this._sideBarService.getCatalogue(this.catalogControl.value.id).subscribe({next:t=>{this.catalogue=t.data,localStorage.setItem("state",JSON.stringify({company_code:this.companyControl.value.code,catalogue_desc:this.catalogue.desc})),this._router.navigate([`/catalogue/${this.catalogControl.value.id}`]),this.companyChange.emit(!1)},error:t=>{}})}onActivate(t){this.tree.treeModel.getNodeById(t.node.data.id).expand(),location.href.includes("cart")||this._router.navigate([t.node.data.link])}sideNav(t){let e=this.tree?.treeModel.getNodeById(t);if(e){let n=e.parent.data.children;for(let a=0;a<n.length;a++)this.tree.treeModel.getNodeById(n[a].id).collapseAll();e.expand(),e.setIsActive(!0)}}ngOnInit(){this._router.events.subscribe({next:t=>{if(t instanceof F&&this.catalogue){let e=this.catalogue?.nodes.find(n=>n.link==t.url);e?this.sideNav(e.id):this.catalogue?.nodes.forEach(n=>{e=n.children.find(a=>a.link==t.url),e?this.sideNav(e.id):n.children.forEach(a=>{e=a.children.find(g=>g.link==t.url),e&&this.sideNav(e.id)})})}}}),this.getCompanies()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["app-sidebar"]],viewQuery:function(e,n){if(e&1&&(z(Q,5),z(Pe,5)),e&2){let a;q(a=L())&&(n.tree=a.first),q(a=L())&&(n.treeContainer=a.first)}},outputs:{toggleCollapse:"toggleCollapse",companyChange:"companyChange"},features:[V([N])],decls:27,vars:9,consts:[["filter",""],["treeContainer",""],["tree",""],[1,"list-group","border-0","rounded-0","h-100"],[1,"d-flex","bg-purple","align-items-center"],["href","http://www.bisema.com","target","_blank","aria-current","true",1,"logo"],["src","/img/bisema_logo.jpg","alt","logo","height","36"],["type","button",1,"btn","btn-lg","text-white",3,"click"],[1,"navbar-toggler-icon"],[1,"list-group-item","list-group-item-action","bg-light-purple","h-100"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],[1,"input-group"],["class","input-group-text",4,"ngIf"],[1,"form-select","form-select-sm","decorated",3,"change","formControl"],["value","","selected","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-select","form-select-sm",3,"change","formControl"],["class","",4,"ngIf"],[1,"input-group-text"],["target","_blank",3,"href"],["height","30",3,"src"],[3,"ngValue"],[1,""],[1,"input-group","mb-3"],["type","text","id","filter","placeholder","Search",1,"form-control",3,"keyup"],[2,"height","450px"],[3,"activate","options","nodes"]],template:function(e,n){e&1&&(o(0,"div",3)(1,"div",4)(2,"a",5),c(3,"img",6),i(),o(4,"a",7),u("click",function(){return n.toggle()}),c(5,"span",8),i()(),o(6,"div",9)(7,"div",10)(8,"label",11)(9,"b"),s(10,"Manufacturing Company"),i()(),o(11,"div",12),_(12,Fe,3,2,"span",13),o(13,"select",14),u("change",function(){return n.getCatalogues()}),o(14,"option",15),s(15,"Select Company"),i(),_(16,De,2,2,"option",16),i()()(),o(17,"div",10)(18,"label",11)(19,"b"),s(20),k(21,"uppercase"),i()(),o(22,"select",17),u("change",function(){return n.getCatalogue()}),o(23,"option",15),s(24,"Select Catalogue"),i(),_(25,Be,2,2,"option",16),i()(),_(26,Qe,10,3,"div",18),i()()),e&2&&(l(12),p("ngIf",n.companyControl.value),l(),p("formControl",n.companyControl),l(3),p("ngForOf",n.companies),l(4),w("",O(21,7,n.companyControl.value.code)," Catalogues"),l(2),p("formControl",n.catalogControl),l(3),p("ngForOf",n.catalogues),l(),p("ngIf",n.catalogue))},dependencies:[I,P,E,le,_e,ge,fe,ue,me,de,Ee,Q],styles:["div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:15px}"]})};var A=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["app-footer"]],decls:19,vars:0,consts:[[1,"row","bg-purple","pt-3","me-0"],[1,"col-12"],[1,"d-flex","justify-content-center"],[1,"list-inline","list-unstyled","m-0"],[1,"list-inline-item"],["href","https://www.facebook.com","target","https://www.facebook.com/bisemacorp",1,"text-white"],[1,"fa-brands","fa-facebook","fa-2x","me-2"],["href","https://www.linkedin.com ","target","https://www.linkedin.com/bisema-corporation",1,"text-white"],[1,"fa-brands","fa-linkedin","fa-2x","me-2"],["href","https://www.twitter.com ","target","https://www.twitter.com/bisemacorp",1,"text-white"],[1,"fa-brands","fa-twitter","fa-2x"],[1,"text-center","mt-3"],[1,"text-white"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),c(6,"i",6),i()(),o(7,"li",4)(8,"a",7),c(9,"i",8),i()(),o(10,"li",4)(11,"a",9),c(12,"i",10),i()()()(),o(13,"div",11)(14,"p",12),s(15,"Copyright "),o(16,"span"),s(17,"\xA9"),i(),s(18," 2025 BiSemA Corporation."),i()()()())},encapsulation:2})};function He(r,t){if(r&1){let e=C();o(0,"div",11)(1,"div",12),u("click",function(){m(e);let a=f();return d(a.goToPage("cart"))}),s(2),i(),o(3,"div",12),u("click",function(){m(e);let a=f();return d(a.goToPage("specification"))}),s(4,"Specification"),i()()}if(r&2){let e=f();l(),p("ngClass",e.url!=null&&e.url.includes("cart")?"tab-active":"bg-purple"),l(),w("Shopping Cart [",e.cartQty,"]"),l(),p("ngClass",e.url!=null&&e.url.includes("catalogue")?"tab-active":"bg-purple")}}var $=class r extends Ie{isCollapsed=!1;is_company=!0;_authService=v(J);_router=v(D);state=null;url=null;cartQty=0;cart=[];logout(){this._authService.logout().subscribe({next:t=>{this._storrageService.removeItem("token"),this._storrageService.removeItem("subdomain"),this._storrageService.removeItem("user"),this._router.navigateByUrl("/auth/login")}})}goToPage(t){if(!this.url.includes(t))switch(t){case"specification":let e=this._storrageService.getItem("prev_route")?this._storrageService.getItem("prev_route"):"catalogue";this._router.navigate([e]);break;case"cart":this._router.navigateByUrl("/cart");break;default:break}}getCart(){this._cartService.getCart().subscribe({next:t=>{this.cart=t.data,this.cartQty=this.cart.length}})}ngOnInit(){this._router.events.subscribe({next:t=>{t instanceof F&&(this.url=t.url,t.url.includes("catalogue")&&this._storrageService.setItem("prev_route",t.url))}}),this._busService.getSendShowCart().subscribe({next:t=>{this.getCart()}}),this.getCart()}static \u0275fac=(()=>{let t;return function(n){return(t||(t=X(r)))(n||r)}})();static \u0275cmp=h({type:r,selectors:[["app-main"]],features:[V([J]),Z],decls:13,vars:5,consts:[["sidebarCollapse","ngbCollapse"],[1,"container-fluid","h-100"],[1,"row","h-100"],[1,"col-12","px-0"],[1,"d-flex","h-100"],[2,"max-width","300px",3,"ngbCollapseChange","ngbCollapse","horizontal"],[1,"h-100",2,"width","300px"],[3,"toggleCollapse","companyChange"],[1,"flex-fill","w-100"],[3,"toggleCollapse","logoutEvent","cartQty","cart"],["class","tab-row pt-1",4,"ngIf"],[1,"tab-row","pt-1"],[1,"col-md-6","px-0","py-2","tab","text-center",3,"click","ngClass"]],template:function(e,n){if(e&1){let a=C();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5,0),ie("ngbCollapseChange",function(b){return m(a),ne(n.isCollapsed,b)||(n.isCollapsed=b),d(b)}),o(6,"div",6)(7,"app-sidebar",7),u("toggleCollapse",function(){m(a);let b=y(5);return d(b.toggle())})("companyChange",function(b){return m(a),d(n.is_company=b)}),i()()(),o(8,"div",8)(9,"app-header",9),u("toggleCollapse",function(){m(a);let b=y(5);return d(b.toggle())})("logoutEvent",function(){return m(a),d(n.logout())}),i(),_(10,He,5,3,"div",10),c(11,"router-outlet"),i()(),c(12,"app-footer"),i()()()}e&2&&(l(4),te("ngbCollapse",n.isCollapsed),p("horizontal",!0),l(5),p("cartQty",n.cartQty)("cart",n.cart),l(),p("ngIf",!n.is_company))},dependencies:[I,re,E,ce,H,R,Ce,be,A],styles:[".tab-row[_ngcontent-%COMP%]{color:#f5f5f5;display:flex;flex-wrap:wrap;justify-content:space-around;flex-direction:row-reverse}.tab-row[_ngcontent-%COMP%]   .tab-last[_ngcontent-%COMP%]{border:none!important}.tab-row[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:18px;font-weight:700;border-right:2px solid #fff;border-radius:15px 15px 0 0}.tab-row[_ngcontent-%COMP%]   .tab-active[_ngcontent-%COMP%], .tab-row[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#000;border-radius:15px 15px 0 0;cursor:pointer}.tab-row[_ngcontent-%COMP%]   .tab-active[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%], .tab-row[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover + .tab[_ngcontent-%COMP%]{border:none!important}"]})};var It=[{path:"",component:$,children:[{path:"company/:id",loadComponent:()=>T(void 0,null,function*(){return(yield import("./chunk-G72SSREZ.js")).CompanyComponent})},{path:"catalogue/:id",loadChildren:()=>T(void 0,null,function*(){return(yield import("./chunk-AVMOBFXC.js")).routes})},{path:"cart",loadChildren:()=>T(void 0,null,function*(){return(yield import("./chunk-ION4YP3S.js")).routes})}]}];export{It as routes};
