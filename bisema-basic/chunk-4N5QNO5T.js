import{a as Y}from"./chunk-S4UGDICD.js";import{b as Q,c as Me}from"./chunk-F5P5HNF7.js";import{a as ve,b as ye,c as we,d as xe,e as Se,f as Ee,g as ke,i as Ie}from"./chunk-5KWWAODE.js";import{d as ge,g as J,k as fe,n as Ce,o as _e,p as he,s as be}from"./chunk-HZJXUBZX.js";import{a as B,b as Oe}from"./chunk-WNN6VJ2G.js";import"./chunk-D4X6XHNH.js";import{B as ee,Ba as f,C as b,Ca as d,Eb as de,Fa as L,G as V,Gb as ue,H as u,Hb as D,I as g,Ja as ne,L as x,Ma as U,Na as q,Oa as W,Pa as w,Qa as s,Ra as S,Sa as y,Va as ie,Wa as oe,X as T,Xa as re,Ya as P,Z as l,cb as E,db as k,ea as v,eb as ae,ia as te,ja as C,k as X,nb as le,oa as c,ob as F,pb as I,rb as se,sa as r,sb as ce,ta as i,tb as pe,ua as p,ub as M,xb as me,y as Z,ya as _}from"./chunk-YBJUVPDF.js";import{d as O}from"./chunk-4CLCTAJ7.js";function Pe(o,t){if(o&1){let e=_();r(0,"button",15),f("click",function(){u(e);let a=d();return g(a.toggle())}),p(1,"span",16),i()}}function Fe(o,t){o&1&&(r(0,"a",17),p(1,"img",18),i())}function De(o,t){if(o&1){let e=_();r(0,"button",19),f("click",function(){u(e);let a=d(),m=w(16);return g(a.open(m))}),p(1,"i",20),s(2," Small cart "),r(3,"span",21),s(4),i()()}if(o&2){let e=d();l(4),y(" [",e.cartQty,"] ")}}function Be(o,t){if(o&1&&(r(0,"div",29)(1,"div",30)(2,"div"),p(3,"img",31),E(4,"lowercase"),E(5,"lowercase"),i(),r(6,"div",32)(7,"strong",33),s(8),E(9,"currency"),i(),r(10,"span",34)(11,"strong"),s(12,"QTY*"),i(),r(13,"p",35),s(14),i()()()(),p(15,"hr",36),i()),o&2){let e=t.$implicit,n=d(2);l(3),ne("src","",n.baseUrl,"",e.product.company_code,"/",k(4,7,e.product.catalogue_code),"/prod_icons/",k(5,9,e.product.label),"_3d.png",T),l(5),y(" Price: ",k(9,11,n.getTotalPrice(e))," "),l(6),S(e.qty)}}function Qe(o,t){if(o&1){let e=_();r(0,"div",22)(1,"h4",23),s(2,"Cart"),i(),r(3,"button",24),f("click",function(){let a=u(e).$implicit;return g(a.dismiss("Cross click"))}),i()(),r(4,"div",25)(5,"a",26),s(6),i(),p(7,"hr",27),C(8,Be,16,13,"div",28),i()}if(o&2){let e=d();l(6),y(" Cart (",e.cartQty," Items) "),l(2),c("ngForOf",e.cart)}}var H=class o{baseUrl=B.media_url;logo=!1;offcanvasService=b(Ie);toggleCollapse=new x;cartQty=0;cart=[];url="";logoutEvent=new x;logout(){this.logoutEvent.emit()}toggle(){this.logo=!this.logo,this.toggleCollapse.emit()}open(t){this.offcanvasService.open(t,{position:"end"}).result.then(e=>{},e=>{})}getTotalPrice(t){let e=t.product.price;for(let n=0;n<t.finish_prices.length;n++)e=e+t.finish_prices[n];return e=e*t.qty,e=parseFloat(e).toFixed(2),e}ngOnChanges(t){this.url&&this.url.includes("checkout")&&(this.logo=!0)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-header"]],inputs:{cartQty:"cartQty",cart:"cart",url:"url"},outputs:{toggleCollapse:"toggleCollapse",logoutEvent:"logoutEvent"},features:[V],decls:17,vars:3,consts:[["content",""],[1,"navbar","navbar-dark","bg-purple","navbar-expand-sm"],[1,"container-fluid","align-items-center","px-0"],[1,"d-flex","align-items-center","me-5"],["class","btn btn-lg","type","button",3,"click",4,"ngIf"],["class","navbar-brand","href","http://www.bisema.com","target","_blank",4,"ngIf"],[1,"navbar-text","text-white","h5","me-5","pe-5","d-md-block","d-none"],[1,"me-3","d-flex","align-items-center"],["type","button","class","btn btn-light btn2",3,"click",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"nav-item","ms-3"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown3","role","button",1,"nav-link","text-white","userAnchor"],["aria-hidden","true",1,"fa","fa-user-circle"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown3",1,"dropdown-menu"],["ngbDropdownItem","","href","javascript:;",3,"click"],[1,"bg-light-purple"],["type","button",1,"btn","btn-lg",3,"click"],[1,"navbar-toggler-icon"],["href","http://www.bisema.com","target","_blank",1,"navbar-brand"],["src","/img/bisema_logo.jpg","alt","logo","height","35"],["type","button",1,"btn","btn-light","btn2",3,"click"],["aria-hidden","true",1,"fa","fa-shopping-basket"],[1,""],[1,"offcanvas-header"],["id","offcanvas-basic-title",1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],["type","button","target","_blank","routerLink","/cart",1,"ml-1","btn","btn-light",2,"color","black"],[1,"mt-3"],["class","ml-2",4,"ngFor","ngForOf"],[1,"ml-2"],[1,"d-flex","justify-content-between"],["width","100","alt","Buy",1,"rounded","float-left",3,"src"],[1,"d-flex","flex-column","justify-content-between"],[1,"ml-5"],[1,"d-flex"],[1,"ms-1","bg-white","border","text-center",2,"width","75px"],[1,"mt-1"]],template:function(e,n){if(e&1){let a=_();r(0,"nav",1)(1,"div",2)(2,"div",3),C(3,Pe,2,0,"button",4)(4,Fe,2,0,"a",5),i(),r(5,"div",6),s(6," BiSemA Corporation Cloud Specification Services "),i(),r(7,"div",7),C(8,De,5,1,"button",8),r(9,"div",9)(10,"a",10),p(11,"i",11),i(),r(12,"div",12)(13,"a",13),f("click",function(){return u(a),g(n.logout())}),s(14,"Log Out"),i()()()()()(),C(15,Qe,9,2,"ng-template",14,0,ae)}e&2&&(l(3),c("ngIf",!(n.url!=null&&n.url.includes("checkout"))),l(),c("ngIf",n.logo),l(4),c("ngIf",!(n.url!=null&&n.url.includes("cart"))&&!(n.url!=null&&n.url.includes("checkout"))))},dependencies:[M,F,I,se,pe,ke,Ee,Se,xe,we],styles:[".userAnchor[_ngcontent-%COMP%]{font-size:20px}"]})};var N=class o{constructor(t){this.http=t}api_url=B.api_url;getCompanies(){let t=localStorage.getItem("subdomain");return this.http.get(`${this.api_url}get/domain/companies?domain=${t}`)}getCatalogues(t){return this.http.get(`${this.api_url}get/company/catalogues?company_id=${t}`)}getCatalogue(t){return this.http.get(`${this.api_url}get/catalogue-tree?catalogue_id=${t}`)}static \u0275fac=function(e){return new(e||o)(ee(me))};static \u0275prov=Z({token:o,factory:o.\u0275fac})};var He=["treeContainer"];function je(o,t){if(o&1&&(r(0,"span",19)(1,"a",20),p(2,"img",21),i()()),o&2){let e=d();l(),L("href",e.companyControl.value.url,T),l(),L("src",e.companyControl.value.logo,T)}}function Ae(o,t){if(o&1&&(r(0,"option",22),s(1),i()),o&2){let e=t.$implicit;c("ngValue",e),l(),S(e.code)}}function Re(o,t){if(o&1&&(r(0,"option",22),s(1),i()),o&2){let e=t.$implicit;c("ngValue",e),l(),S(e.code)}}function ze(o,t){if(o&1){let e=_();r(0,"div",23)(1,"div",24)(2,"input",25,0),f("keyup",function(){u(e);let a=w(3),m=d();return g(m.filterFn(a.value))}),i()(),r(4,"label",11),s(5),i(),r(6,"div",26,1)(8,"tree-root",27,2),f("activate",function(a){u(e);let m=d();return g(m.onActivate(a))}),i()()()}if(o&2){let e=d();l(5),S(e.catalogue.desc),l(3),c("options",e.options)("nodes",e.catalogue.nodes)}}var A=class o{toggleCollapse=new x;companyChange=new x;url="";companies=[];catalogues=[];catalogue=null;companyControl=new J("");catalogControl=new J("");_sideBarService=b(N);_router=b(D);tree;treeContainer={};options={scrollContainer:this.treeContainer.nativeElement,allowDrag:t=>!t.hasChildren};toggle(){this.toggleCollapse.emit()}getCompanies(){this._sideBarService.getCompanies().subscribe({next:t=>{this.companies=t.data,this.companyControl.setValue(this.companies[0]),this.getCatalogues()},error:t=>{}})}getCatalogues(){this._sideBarService.getCatalogues(this.companyControl.value.id).subscribe({next:t=>{this.catalogues=t.data,this._router.navigate([`/company/${this.companyControl.value.id}`]),this.companyChange.emit(!0)},error:t=>{}})}getCatalogue(){this._sideBarService.getCatalogue(this.catalogControl.value.id).subscribe({next:t=>{this.catalogue=t.data,localStorage.setItem("state",JSON.stringify({company_code:this.companyControl.value.code,catalogue_desc:this.catalogue.desc})),this._router.navigate([`/catalogue/${this.catalogControl.value.id}`]),this.companyChange.emit(!1)},error:t=>{}})}onActivate(t){this.tree.treeModel.getNodeById(t.node.data.id).expand(),location.href.includes("cart")||this._router.navigate([t.node.data.link])}sideNav(t){let e=this.tree?.treeModel.getNodeById(t);if(e){let n=e.parent.data.children;for(let a=0;a<n.length;a++)this.tree.treeModel.getNodeById(n[a].id).collapseAll();e.expand(),e.setIsActive(!0)}}ngOnChanges(t){if(this.url&&this.catalogue){let e=this.catalogue?.nodes.find(n=>n.link==this.url);e?this.sideNav(e.id):this.catalogue?.nodes.forEach(n=>{e=n.children.find(a=>a.link==this.url),e?this.sideNav(e.id):n.children.forEach(a=>{e=a.children.find(m=>m.link==this.url),e&&this.sideNav(e.id)})})}}ngOnInit(){this.getCompanies()}filterFn(t){this.tree?.treeModel.filterNodes(e=>this.fuzzysearch(t,e.data.name))}fuzzysearch(t,e){let n=e.toLowerCase(),a=t.toLowerCase(),m=e.length,h=a.length;if(h>m)return!1;if(h===m)return a===n;e:for(let $=0,K=0;$<h;$++){let Ne=a.charCodeAt($);for(;K<m;)if(n.charCodeAt(K++)===Ne)continue e;return!1}return!0}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-sidebar"]],viewQuery:function(e,n){if(e&1&&(U(Q,5),U(He,5)),e&2){let a;q(a=W())&&(n.tree=a.first),q(a=W())&&(n.treeContainer=a.first)}},inputs:{url:"url"},outputs:{toggleCollapse:"toggleCollapse",companyChange:"companyChange"},features:[P([N]),V],decls:27,vars:9,consts:[["filter",""],["treeContainer",""],["tree",""],[1,"list-group","border-0","rounded-0","h-100"],[1,"d-flex","bg-purple","align-items-center"],["href","http://www.bisema.com","target","_blank","aria-current","true",1,"logo"],["src","/img/bisema_logo.jpg","alt","logo","height","36"],["type","button",1,"btn","btn-lg","text-white",3,"click"],[1,"navbar-toggler-icon"],[1,"list-group-item","list-group-item-action","bg-light-purple","h-100"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],[1,"input-group"],["class","input-group-text",4,"ngIf"],[1,"form-select","form-select-sm","decorated",3,"change","formControl"],["value","","selected","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-select","form-select-sm",3,"change","formControl"],["class","",4,"ngIf"],[1,"input-group-text"],["target","_blank",3,"href"],["height","30",3,"src"],[3,"ngValue"],[1,""],[1,"input-group","mb-3"],["type","text","id","filter","placeholder","Search",1,"form-control",3,"keyup"],[2,"height","450px"],[3,"activate","options","nodes"]],template:function(e,n){e&1&&(r(0,"div",3)(1,"div",4)(2,"a",5),p(3,"img",6),i(),r(4,"a",7),f("click",function(){return n.toggle()}),p(5,"span",8),i()(),r(6,"div",9)(7,"div",10)(8,"label",11)(9,"b"),s(10,"Manufacturing Company"),i()(),r(11,"div",12),C(12,je,3,2,"span",13),r(13,"select",14),f("change",function(){return n.getCatalogues()}),r(14,"option",15),s(15,"Select Company"),i(),C(16,Ae,2,2,"option",16),i()()(),r(17,"div",10)(18,"label",11)(19,"b"),s(20),E(21,"uppercase"),i()(),r(22,"select",17),f("change",function(){return n.getCatalogue()}),r(23,"option",15),s(24,"Select Catalogue"),i(),C(25,Re,2,2,"option",16),i()(),C(26,ze,10,3,"div",18),i()()),e&2&&(l(12),c("ngIf",n.companyControl.value),l(),c("formControl",n.companyControl),l(3),c("ngForOf",n.companies),l(4),y("",k(21,7,n.companyControl.value.code)," Catalogues"),l(2),c("formControl",n.catalogControl),l(3),c("ngForOf",n.catalogues),l(),c("ngIf",n.catalogue))},dependencies:[M,F,I,ce,be,_e,he,Ce,ge,fe,Me,Q],styles:["div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:15px}"]})};var R=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-footer"]],decls:19,vars:0,consts:[[1,"row","bg-purple","pt-3","me-0"],[1,"col-12"],[1,"d-flex","justify-content-center"],[1,"list-inline","list-unstyled","m-0"],[1,"list-inline-item"],["href","https://www.facebook.com","target","https://www.facebook.com/bisemacorp",1,"text-white"],[1,"fa-brands","fa-facebook","fa-2x","me-2"],["href","https://www.linkedin.com ","target","https://www.linkedin.com/bisema-corporation",1,"text-white"],[1,"fa-brands","fa-linkedin","fa-2x","me-2"],["href","https://www.twitter.com ","target","https://www.twitter.com/bisemacorp",1,"text-white"],[1,"fa-brands","fa-twitter","fa-2x"],[1,"text-center","mt-3"],[1,"text-white"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),p(6,"i",6),i()(),r(7,"li",4)(8,"a",7),p(9,"i",8),i()(),r(10,"li",4)(11,"a",9),p(12,"i",10),i()()()(),r(13,"div",11)(14,"p",12),s(15,"Copyright "),r(16,"span"),s(17,"\xA9"),i(),s(18," 2025 BiSemA Corporation."),i()()()())},encapsulation:2})};function $e(o,t){if(o&1){let e=_();r(0,"div",10)(1,"app-sidebar",11),f("toggleCollapse",function(){u(e),d();let a=w(5);return g(a.toggle())})("companyChange",function(a){u(e);let m=d();return g(m.companyChange(a))}),i()()}if(o&2){let e=d();l(),c("url",e.url)}}function Le(o,t){if(o&1){let e=_();r(0,"div",12)(1,"div",13),f("click",function(){u(e);let a=d();return g(a.goToPage("cart"))}),s(2),i(),r(3,"div",13),f("click",function(){u(e);let a=d();return g(a.goToPage("specification"))}),s(4,"Specification"),i()()}if(o&2){let e=d();l(),c("ngClass",e.url!=null&&e.url.includes("cart")?"tab-active":"bg-purple"),l(),y("Shopping Cart [",e.cartQty,"]"),l(),c("ngClass",e.url!=null&&e.url.includes("catalogue")?"tab-active":"bg-purple")}}var z=class o extends Oe{isCollapsed=!1;is_company=!0;_authService=b(Y);_router=b(D);state=null;url=null;cartQty=0;cart=[];constructor(){super(),this._router.events.pipe(X(t=>t instanceof de)).subscribe(t=>{this.url=t.url,t.url.includes("catalogue")&&this._storrageService.setItem("prev_route",t.url)})}logout(){this._authService.logout().subscribe({next:t=>{this._storrageService.removeItem("token"),this._storrageService.removeItem("subdomain"),this._storrageService.removeItem("user"),this._router.navigateByUrl("/auth/login")}})}goToPage(t){if(!this.url?.includes(t))switch(t){case"specification":let e=this._storrageService.getItem("prev_route")?this._storrageService.getItem("prev_route"):"catalogue";this._router.navigate([e]);break;case"cart":this._router.navigateByUrl("/cart");break;default:break}}getCart(){this._cartService.getCart().subscribe({next:t=>{this.cart=t.data,this.cartQty=this.cart.length}})}companyChange(t){this.is_company=t}ngOnInit(){this._busService.getSendShowCart().subscribe({next:t=>{this.getCart()}}),this.getCart()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-main"]],features:[P([Y]),te],decls:12,vars:8,consts:[["sidebarCollapse","ngbCollapse"],[1,"container-fluid","h-100"],[1,"row","h-100"],[1,"col-12","px-0"],[1,"d-flex","h-100"],[2,"max-width","300px",3,"ngbCollapseChange","ngbCollapse","horizontal","ngClass"],["style","width: 300px","class","h-100",4,"ngIf"],[1,"flex-fill","w-100"],[3,"toggleCollapse","logoutEvent","cartQty","cart","url"],["class","tab-row pt-1",4,"ngIf"],[1,"h-100",2,"width","300px"],[3,"toggleCollapse","companyChange","url"],[1,"tab-row","pt-1"],[1,"col-md-6","px-0","py-2","tab","text-center",3,"click","ngClass"]],template:function(e,n){if(e&1){let a=_();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5,0),re("ngbCollapseChange",function(h){return u(a),oe(n.isCollapsed,h)||(n.isCollapsed=h),g(h)}),C(6,$e,2,1,"div",6),i(),r(7,"div",7)(8,"app-header",8),f("toggleCollapse",function(){u(a);let h=w(5);return g(h.toggle())})("logoutEvent",function(){return u(a),g(n.logout())}),i(),C(9,Le,5,3,"div",9),p(10,"router-outlet"),i()(),p(11,"app-footer"),i()()()}e&2&&(l(4),ie("ngbCollapse",n.isCollapsed),c("horizontal",!0)("ngClass",n.url!=null&&n.url.includes("checkout")?"d-none":""),l(2),c("ngIf",!n.url||n.url&&!(n.url!=null&&n.url.includes("checkout"))),l(2),c("cartQty",n.cartQty)("cart",n.cart)("url",n.url),l(),c("ngIf",!n.is_company&&!(n.url!=null&&n.url.includes("checkout"))))},dependencies:[M,le,I,ue,H,A,ye,ve,R],styles:[".tab-row[_ngcontent-%COMP%]{color:#f5f5f5;display:flex;flex-wrap:wrap;justify-content:space-around;flex-direction:row-reverse}.tab-row[_ngcontent-%COMP%]   .tab-last[_ngcontent-%COMP%]{border:none!important}.tab-row[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:18px;font-weight:700;border-right:2px solid #fff;border-radius:15px 15px 0 0}.tab-row[_ngcontent-%COMP%]   .tab-active[_ngcontent-%COMP%], .tab-row[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#000;border-radius:15px 15px 0 0;cursor:pointer}.tab-row[_ngcontent-%COMP%]   .tab-active[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%], .tab-row[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover + .tab[_ngcontent-%COMP%]{border:none!important}"]})};var Qt=[{path:"",component:z,children:[{path:"company/:id",loadComponent:()=>O(void 0,null,function*(){return(yield import("./chunk-LLNVRRD6.js")).CompanyComponent})},{path:"catalogue/:id",loadChildren:()=>O(void 0,null,function*(){return(yield import("./chunk-E6OC76EV.js")).routes})},{path:"cart",loadChildren:()=>O(void 0,null,function*(){return(yield import("./chunk-OOXUS4GZ.js")).routes})},{path:"checkout",loadComponent:()=>O(void 0,null,function*(){return(yield import("./chunk-QGOFFPV2.js")).CheckoutComponent})}]}];export{Qt as routes};
